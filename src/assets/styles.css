@tailwind base;
@tailwind components;

:root {
  /* 3 Typography colors: base/low/high contrast */
  --color-typo-low: theme("colors.tgray.700");
  --color-typo-base: theme("colors.tgray.800");
  --color-typo-high: theme("colors.tgray.900");
  --color-ui-background: theme("colors.tgray.50");
  --color-ui-sidebar: theme("colors.tgray.400");
  --color-ui-border: theme("colors.tgray.300");
  --color-ui-primary: theme("colors.brand");
}

html.dark {
  --color-typo-low: theme("colors.tgray.600");
  --color-typo-base: theme("colors.tgray.500");
  --color-typo-high: theme("colors.tgray.400");
  --color-ui-background: theme("colors.tgray.900");
  --color-ui-sidebar: theme("colors.tgray.800");
  --color-ui-border: theme("colors.tgray.700");
}

* {
  transition-property: color, background-color, border-color;
  transition-duration: 200ms;
  transition-timing-function: ease-in-out;
}

.prose {
  & h1,
  & h2,
  & h3,
  & h4 {
    &:hover {
      & a::before {
        @apply opacity-100;
      }
    }

    & a {
      &::before {
        content: "#";
        margin-left: -1em;
        padding-right: 1em;

        @apply text-ui-primary absolute opacity-0 float-left;
      }
    }
  }
}

/* Prevent the sticky header from covering the element scrolled to.
 * The margin should be greater than the height of the sticky header.
 */
[id] {
  scroll-margin-top: 4rem;
}

@tailwind utilities;
